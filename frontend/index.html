<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>H5C Ops Dashboard</title>
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="./vendor/xterm.css" />
  <script src="./vendor/chart.umd.js" defer></script>
  <script src="./vendor/xterm.js" defer></script>
  <script src="./vendor/xterm-addon-fit.js" defer></script>
</head>
<body>
  <header class="top">
    <div class="container top-row">
      <div class="brand">
        <div class="logo">H5C</div>
        <div>
          <div class="title">Ops Dashboard</div>
          <div class="subtitle">Emoji ¬∑ CPU/RAM/DISK/IO ¬∑ SHELL ¬∑ SSH</div>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="ops">
      <div class="ops-grid">
        <div class="card ops-emoji">
          <div class="ops-emoji-big" id="emoji">üôÇ</div>
          <div class="ops-emoji-title" id="statusText">Ï†ïÏÉÅ</div>
          <div class="muted small" id="statusHint">Î™®ÎãàÌÑ∞ÎßÅ Ï§ë</div>
          <div class="small muted" id="updatedAt">ÏóÖÎç∞Ïù¥Ìä∏: --</div>
        </div>

        <div class="card ops-metrics">
          <div class="ops-metrics-head">
            <h3>ÏÑ±Îä• ÏÉÅÌÉú</h3>
            <div class="ops-source-pill" id="metricsSource">source: local</div>
          </div>

          <div class="ops-source-controls">
            <input id="monitorUrl" class="input" placeholder="EC2 /monitor URL (Ïòà: http://3.36.74.135:5000/monitor)" />
            <button id="btnUseLocal" class="btn outline" type="button">LOCAL</button>
            <button id="btnUseMonitor" class="btn" type="button">EC2 Ïó∞Í≤∞</button>
            <span class="small muted" id="monitorState">ÎåÄÍ∏∞</span>
          </div>

          <div class="ops-agentlog-head">
            <div class="small muted">Agent Î°úÍ∑∏ (client.py /logs)</div>
            <div class="ops-agentlog-actions">
              <button id="btnLogClear" class="btn outline" type="button">Î°úÍ∑∏ ÏßÄÏö∞Í∏∞</button>
              <button id="btnLogCsv" class="btn outline" type="button">CSV Ï†ÄÏû•</button>
              <span class="small muted" id="agentLogState">ÎåÄÍ∏∞</span>
            </div>
          </div>
          <pre id="agentLog" class="ops-agentlog" aria-label="agent logs"></pre>

          <div class="ops-agentlog-head">
            <div class="small muted">AI Ïù¥Î≤§Ìä∏ ¬∑ Self-Healing</div>
            <div class="ops-agentlog-actions">
              <button id="btnSelfHeal" class="btn outline" type="button">OFF</button>
              <button id="btnAiClear" class="btn outline" type="button">ÏßÄÏö∞Í∏∞</button>
              <span class="small muted" id="selfHealState">OFF</span>
            </div>
          </div>
          <pre id="aiLog" class="ops-agentlog" aria-label="ai events"></pre>

          <div class="ops-kpi">
            <div class="kpi-item">
              <div class="kpi-label">CPU</div>
              <div class="kpi-value"><span id="cpuVal">--</span>%</div>
              <div class="bar"><div id="cpuBar" class="fill"></div></div>
            </div>
            <div class="kpi-item">
              <div class="kpi-label">RAM</div>
              <div class="kpi-value"><span id="ramVal">--</span>%</div>
              <div class="bar"><div id="ramBar" class="fill"></div></div>
            </div>
            <div class="kpi-item">
              <div class="kpi-label">DISK</div>
              <div class="kpi-value"><span id="diskVal">--</span>%</div>
              <div class="bar"><div id="diskBar" class="fill"></div></div>
            </div>
            <div class="kpi-item">
              <div class="kpi-label">IO</div>
              <div class="kpi-value"><span id="ioVal">--</span>%</div>
              <div class="bar"><div id="ioBar" class="fill"></div></div>
            </div>
          </div>

          <div class="chart-wrap ops-chart">
            <canvas id="chartMain"></canvas>
          </div>
        </div>

        <div class="card ops-cli">
          <div class="ops-cli-head">
            <h3>ÌÑ∞ÎØ∏ÎÑê</h3>
            <div class="tabs">
              <button id="tabAws" class="tab active" type="button">SHELL</button>
              <button id="tabSsh" class="tab" type="button">SSH (ÏÑúÎ≤Ñ IP)</button>
            </div>
          </div>

          <div id="sshControls" class="ssh-controls" style="display:none;">
            <div class="form-grid">
              <label class="form-item">
                <span class="form-label">Server IP/Host</span>
                <input id="sshHost" class="input" placeholder="Ïòà: 3.34.12.56" />
              </label>
              <label class="form-item">
                <span class="form-label">Port</span>
                <input id="sshPort" class="input" value="22" />
              </label>
              <label class="form-item">
                <span class="form-label">Username</span>
                <input id="sshUser" class="input" placeholder="Ïòà: ec2-user / ubuntu" />
              </label>
              <label class="form-item">
                <span class="form-label">Password (ÏÑ†ÌÉù)</span>
                <input id="sshPass" class="input" type="password" placeholder="ÌÇ§ Í∏∞Î∞òÏù¥Î©¥ ÎπÑÏõåÎèÑ Îê®" />
              </label>
              <label class="form-item form-item-wide">
                <span class="form-label">Private Key (ÏÑ†ÌÉù, PEM ÎÇ¥Ïö© Î∂ôÏó¨ÎÑ£Í∏∞)</span>
                <textarea id="sshKey" class="textarea" rows="6" placeholder="-----BEGIN OPENSSH PRIVATE KEY-----
...
-----END OPENSSH PRIVATE KEY-----"></textarea>
              </label>
            </div>
            <div class="btn-row">
              <button id="btnSshConnect" class="btn" type="button">SSH Ïó∞Í≤∞</button>
              <button id="btnSshDisconnect" class="btn outline" type="button" disabled>Ïó∞Í≤∞ Ìï¥Ï†ú</button>
              <span class="small muted" id="sshState">ÏÉÅÌÉú: ÎåÄÍ∏∞</span>
            </div>
          </div>

          <div id="awsTerm" class="terminal"></div>
          <div id="sshTerm" class="terminal" style="display:none;"></div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="./dist/main.js"></script>
</body>
</html>

